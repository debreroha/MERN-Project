{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport { fetchSongs, createSong as createSongAPI, updateSong as updateSongAPI, deleteSong as deleteSongAPI } from '../services/api';\nconst songsSlice = createSlice({\n  name: 'songs',\n  initialState: [],\n  reducers: {\n    setSongs: (state, action) => {\n      return action.payload;\n    },\n    addSong: (state, action) => {\n      state.push(action.payload);\n    },\n    updateSong: (state, action) => {\n      const {\n        id,\n        ...updatedSong\n      } = action.payload;\n      const songIndex = state.findIndex(song => song.id === id);\n      if (songIndex !== -1) {\n        state[songIndex] = {\n          ...state[songIndex],\n          ...updatedSong\n        };\n      }\n    },\n    deleteSong: (state, action) => {\n      const songIndex = state.findIndex(song => song.id === action.payload);\n      if (songIndex !== -1) {\n        state.splice(songIndex, 1);\n      }\n    }\n  }\n});\nexport const {\n  setSongs,\n  addSong,\n  updateSong,\n  deleteSong\n} = songsSlice.actions;\nexport const fetchSongsAsync = () => async dispatch => {\n  try {\n    const response = await fetchSongs();\n    dispatch(setSongs(response.data));\n  } catch (error) {\n    console.error('Failed to fetch songs:', error);\n  }\n};\nexport const createSongAsync = songData => async dispatch => {\n  try {\n    const response = await createSongAPI(songData);\n    dispatch(addSong(response.data));\n  } catch (error) {\n    console.error('Failed to create song:', error);\n  }\n};\nexport const updateSongAsync = (id, songData) => async dispatch => {\n  try {\n    await updateSongAPI(id, songData);\n    dispatch(updateSong({\n      id,\n      ...songData\n    }));\n  } catch (error) {\n    console.error('Failed to update song:', error);\n  }\n};\nexport const deleteSongAsync = id => async dispatch => {\n  try {\n    await deleteSongAPI(id);\n    dispatch(deleteSong(id));\n  } catch (error) {\n    console.error('Failed to delete song:', error);\n  }\n};\nexport default songsSlice.reducer;","map":{"version":3,"names":["createSlice","fetchSongs","createSong","createSongAPI","updateSong","updateSongAPI","deleteSong","deleteSongAPI","songsSlice","name","initialState","reducers","setSongs","state","action","payload","addSong","push","id","updatedSong","songIndex","findIndex","song","splice","actions","fetchSongsAsync","dispatch","response","data","error","console","createSongAsync","songData","updateSongAsync","deleteSongAsync","reducer"],"sources":["D:/MERN Stack/frontend/src/redux/songsSlice.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\r\nimport { fetchSongs, createSong as createSongAPI, updateSong as updateSongAPI, deleteSong as deleteSongAPI } from '../services/api';\r\n\r\nconst songsSlice = createSlice({\r\n  name: 'songs',\r\n  initialState: [],\r\n  reducers: {\r\n    setSongs: (state, action) => {\r\n      return action.payload;\r\n    },\r\n    addSong: (state, action) => {\r\n      state.push(action.payload);\r\n    },\r\n    updateSong: (state, action) => {\r\n      const { id, ...updatedSong } = action.payload;\r\n      const songIndex = state.findIndex((song) => song.id === id);\r\n      if (songIndex !== -1) {\r\n        state[songIndex] = { ...state[songIndex], ...updatedSong };\r\n      }\r\n    },\r\n    deleteSong: (state, action) => {\r\n      const songIndex = state.findIndex((song) => song.id === action.payload);\r\n      if (songIndex !== -1) {\r\n        state.splice(songIndex, 1);\r\n      }\r\n    },\r\n  },\r\n});\r\n\r\nexport const { setSongs, addSong, updateSong, deleteSong } = songsSlice.actions;\r\n\r\nexport const fetchSongsAsync = () => async (dispatch) => {\r\n  try {\r\n    const response = await fetchSongs();\r\n    dispatch(setSongs(response.data));\r\n  } catch (error) {\r\n    console.error('Failed to fetch songs:', error);\r\n  }\r\n};\r\n\r\nexport const createSongAsync = (songData) => async (dispatch) => {\r\n  try {\r\n    const response = await createSongAPI(songData);\r\n    dispatch(addSong(response.data));\r\n  } catch (error) {\r\n    console.error('Failed to create song:', error);\r\n  }\r\n};\r\n\r\nexport const updateSongAsync = (id, songData) => async (dispatch) => {\r\n  try {\r\n    await updateSongAPI(id, songData);\r\n    dispatch(updateSong({ id, ...songData }));\r\n  } catch (error) {\r\n    console.error('Failed to update song:', error);\r\n  }\r\n};\r\n\r\nexport const deleteSongAsync = (id) => async (dispatch) => {\r\n  try {\r\n    await deleteSongAPI(id);\r\n    dispatch(deleteSong(id));\r\n  } catch (error) {\r\n    console.error('Failed to delete song:', error);\r\n  }\r\n};\r\n\r\nexport default songsSlice.reducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}